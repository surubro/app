<script>
const letters = [
    {ru:"А а", en:"aa"}, {ru:"Б б", en:"be"}, {ru:"В в", en:"ve"},
    {ru:"Г г", en:"ge"}, {ru:"Д д", en:"de"}, {ru:"Е е", en:"ye"},
    {ru:"Ё ё", en:"yo"}, {ru:"Ж ж", en:"j"}, {ru:"З з", en:"jhe"},
    {ru:"И и", en:"e"}, {ru:"Й й", en:"y"}, {ru:"К к", en:"ka"},
    {ru:"Л л", en:"l"}, {ru:"М м", en:"m"}, {ru:"Н н", en:"n"},
    {ru:"О о", en:"o"}, {ru:"П п", en:"paii"}, {ru:"Р р", en:"arr"},
    {ru:"С с", en:"s"}, {ru:"Т т", en:"te"}, {ru:"У у", en:"u"},
    {ru:"Ф ф", en:"fe"}, {ru:"Х х", en:"kh"}, {ru:"Ц ц", en:"tse"},
    {ru:"Ч ч", en:"che"}, {ru:"Ш ш", en:"sh"}, {ru:"Щ щ", en:"sha"},
    {ru:"Ъ ъ", en:"hard symbol"}, {ru:"Ы ы", en:"ui"},
    {ru:"Ь ь", en:"soft symbol"}, {ru:"Э э", en:"a ee"},
    {ru:"Ю ю", en:"yu"}, {ru:"Я я", en:"ya"}
];

let remaining = [...letters];
let meaningVisible = true;

// vibration helper
function vibrate(pattern) {
    if (navigator.vibrate) {
        navigator.vibrate(pattern);
    }
}

function nextLetter() {
    vibrate(40); // short vibration on next

    if (remaining.length === 0) {
        document.getElementById("ru").innerText = "✔ Completed";
        document.getElementById("dev").innerText = "";
        document.getElementById("nextBtn").disabled = true;
        document.getElementById("toggleBtn").disabled = true;

        vibrate([100, 50, 100]); // long vibration when done
        return;
    }

    const i = Math.floor(Math.random() * remaining.length);
    const l = remaining.splice(i, 1)[0];

    document.getElementById("ru").innerText = l.ru;
    document.getElementById("dev").innerText = l.en;
    document.getElementById("dev").style.display =
        meaningVisible ? "block" : "none";
}

function toggleMeaning() {
    meaningVisible = !meaningVisible;
    document.getElementById("dev").style.display =
        meaningVisible ? "block" : "none";
    document.getElementById("toggleBtn").innerText =
        meaningVisible ? "Hide Meaning" : "Show Meaning";

    vibrate(20); // light vibration
}
</script>
