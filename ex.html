<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Finance Summary</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    h2 { color: #2c3e50; }
    .category { margin-bottom: 20px; }
    .category span { font-weight: bold; }
    .total { font-size: 1.2em; margin-top: 30px; color: #27ae60; }
    .expense { color: #e74c3c; }
    .income { color: #2980b9; }
  </style>
</head>
<body>

  <h1>Finance Summary</h1>

  <div id="summary"></div>

  <script>
    const jsonUrl = "https://raw.githubusercontent.com/your-username/your-repo/main/finance_data.json"; // Replace this with a correct GitHub raw content URL

    fetch(jsonUrl)
      .then(response => response.json())
      .then(data => {
        const summaryDiv = document.getElementById("summary");

        let allExpensesTotal = 0;
        let totalIncome = 0;

        // Loop through categories
        for (const category in data) {
          const items = data[category];

          // Filter out items with amount 0
          const validItems = items.filter(entry => entry.amount > 0);

          // Skip category if no valid entries
          if (validItems.length === 0) continue;

          // Calculate category total
          let categoryTotal = validItems.reduce((sum, entry) => sum + entry.amount, 0);

          // Create category display
          const formatted = `
            <div class="category">
              <h2>${category}</h2>
              <p><span>${category} Total:</span> ₹${categoryTotal.toLocaleString()}</p>
            </div>
          `;
          summaryDiv.innerHTML += formatted;

          // Income vs Expense detection
          if (category === "SalaryReceived") {
            totalIncome += categoryTotal;
          } else {
            allExpensesTotal += categoryTotal;
          }
        }

        // Final summary
        const resultHTML = `
          <div class="total expense">Total Expenses: ₹${allExpensesTotal.toLocaleString()}</div>
          <div class="total income">Total Income (Salary): ₹${totalIncome.toLocaleString()}</div>
          <div class="total" style="font-weight:bold;">Net Balance: ₹${(totalIncome - allExpensesTotal).toLocaleString()}</div>
        `;
        summaryDiv.innerHTML += resultHTML;

      })
      .catch(error => {
        console.error("Error fetching JSON:", error);
        document.getElementById("summary").innerHTML = `<p style="color:red;">Error loading data. Please check the URL.</p>`;
      });
  </script>
</body>
</html>

