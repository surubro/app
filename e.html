<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Finance Summary</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; background: #f4f4f4; }
    h1 { color: #2c3e50; }
    .category { margin-bottom: 25px; padding: 15px; background: #fff; border-radius: 8px; box-shadow: 0 0 8px rgba(0,0,0,0.05); }
    .category h2 { margin-bottom: 10px; }
    .item-list { margin-left: 15px; }
    .item { margin: 4px 0; }
    .total { font-size: 1.2em; margin-top: 30px; padding: 10px; border-radius: 5px; }
    .expense { color: #e74c3c; }
    .income { color: #2980b9; }
    .net { font-weight: bold; color: #27ae60; }
  </style>
</head>
<body>

  <h1>Finance Summary</h1>
  <div id="summary"></div>

  <script>
    const jsonUrl = "https://raw.githubusercontent.com/your-username/your-repo/main/finance_data.json"; // Replace with your real GitHub raw URL

    fetch(jsonUrl)
      .then(response => response.json())
      .then(data => {
        const summaryDiv = document.getElementById("summary");
        let allExpensesTotal = 0;
        let totalIncome = 0;

        for (const category in data) {
          const items = data[category].filter(entry => entry.amount > 0);
          if (items.length === 0) continue;

          const categoryTotal = items.reduce((sum, entry) => sum + entry.amount, 0);

          let itemListHTML = items.map(item =>
            `<div class="item">${item.name}: ₹${item.amount.toLocaleString()}</div>`
          ).join("");

          summaryDiv.innerHTML += `
            <div class="category">
              <h2>${category}</h2>
              <div class="item-list">${itemListHTML}</div>
              <p><strong>${category} Total:</strong> ₹${categoryTotal.toLocaleString()}</p>
            </div>
          `;

          if (category === "SalaryReceived") {
            totalIncome += categoryTotal;
          } else {
            allExpensesTotal += categoryTotal;
          }
        }

        summaryDiv.innerHTML += `
          <div class="total expense">Total Expenses: ₹${allExpensesTotal.toLocaleString()}</div>
          <div class="total income">Total Income: ₹${totalIncome.toLocaleString()}</div>
          <div class="total net">Net Balance: ₹${(totalIncome - allExpensesTotal).toLocaleString()}</div>
        `;
      })
      .catch(error => {
        console.error("Error fetching JSON:", error);
        document.getElementById("summary").innerHTML =
          `<p style="color:red;">Error loading data. Please check the URL.</p>`;
      });
  </script>

</body>
</html>
